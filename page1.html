<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Organizer</title><style>
body{font-family:Arial;margin:0;padding:10px;background:#1a1a1a;color:#fff}input,button{font-size:16px;margin:5px 0;width:100%;background:#333;color:#fff;border:none;padding:10px;border-radius:5px}button:hover{background:#555;cursor:pointer}.collapsible{background-color:rgba(0,0,0,0.5);color:#fff;cursor:pointer;padding:10px;width:100%;border:none;text-align:left;font-size:16px;margin-top:5px;border-radius:5px}.active,.collapsible:hover{background-color:#555}.content{padding:10px;display:none;background-color:rgba(0,0,0,0.3);border-radius:5px;margin-bottom:5px}pre{white-space:pre-wrap;word-wrap:break-word;color:#fff}.download-btn{margin-top:5px;background:#444;width:auto;padding:5px 10px}.download-btn:hover{background:#666}#version{position:fixed;bottom:10px;left:10px;background:rgba(0,0,0,0.5);padding:5px 10px;border-radius:5px;font-size:14px;color:#fff}
</style></head><body>
<h2>Dark Project Organizer</h2>
<p>Select multiple files:</p>
<input type="file" id="f" multiple><br>
<button onclick="p()">Analyze Files</button>
<button onclick="c()">Download CSV</button>
<div id="r"></div>
<div id="v"></div>
<script>
let d=[],ver=parseInt(localStorage.getItem('v')||'1');document.getElementById('v').textContent='Version:'+ver;
function s(t){return t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,' ').replace(/<style[\s\S]*?>[\s\S]*?<\/style>/gi,' ').replace(/<[^>]+>/g,' ').replace(/<!--[\s\S]*?-->/g,' ').replace(/\/\*[\s\S]*?\*\//g,' ').replace(/\/\/.*$/gm,' ').replace(/\b(var|let|const|function|return|if|else|for|while|switch|case|break|continue|=>|class|new|this)\b/g,' ').replace(/\b[a-z]+[A-Z][a-zA-Z]*\b/g,' ').replace(/\b\w+_\w+\b/g,' ').replace(/[0-9]/g,' ').replace(/[^\w\s]/g,' ').replace(/\s+/g,' ').trim()}
function p(){const fI=document.getElementById('f').files;if(!fI.length)return alert('Select files first!');d=[];ver++;localStorage.setItem('v',ver);document.getElementById('v').textContent='Version:'+ver;const res=document.getElementById('r');res.innerHTML='';Array.from(fI).forEach(f=>{let fr=new FileReader();fr.onload=function(e){let t=s(e.target.result.toLowerCase());let w=t.match(/\b\w+\b/g)||[],x={};w.forEach(y=>{if(y.length>2&&!y.includes('_'))x[y]=(x[y]||0)+1});let srt=Object.entries(x).sort((a,b)=>b[1]-a[1]),sg=srt.slice(0,3).map(z=>z[0]).join('_')||'untitled';let sample=t.substring(0,200)+(t.length>200?'...':'');let idx=d.push({o:f.name,s:sg+'_v'+ver+'.html',m:f.lastModifiedDate?f.lastModifiedDate.toISOString():'N/A',c:sample,cont:e.target.result})-1;let div=document.createElement('div');let btn=document.createElement('button');btn.className='collapsible';btn.textContent=sg+'_v'+ver+'.html';let cont=document.createElement('div');cont.className='content';cont.innerHTML=`<strong>Original Name:</strong> ${f.name}<br><strong>Date Modified:</strong> ${f.lastModifiedDate?f.lastModifiedDate.toLocaleString():'N/A'}<br><strong>Content Sample:</strong><pre>${sample}</pre>`;let dl=document.createElement('button');dl.className='download-btn';dl.textContent='Download This File';dl.addEventListener('click',()=>{let b=new Blob([d[idx].cont],{type:'text/plain'}),a=document.createElement('a');a.href=URL.createObjectURL(b);a.download=d[idx].s;a.click();URL.revokeObjectURL(a.href)});cont.appendChild(dl);btn.addEventListener('click',function(){this.classList.toggle('active');cont.style.display=cont.style.display==='block'?'none':'block'});div.appendChild(btn);div.appendChild(cont);res.appendChild(div)},fr.readAsText(f)})}
function c(){if(!d.length)return alert('No data to download!');const h=['Original Name','Suggested Name','Date Modified','Content Sample'],csv=[h.join(','),...d.map(f=>`"${f.o}","${f.s}","${f.m}","${f.c.replace(/"/g,'""')}"`)].join('\n');let b=new Blob([csv],{type:'text/csv'}),a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='project_suggestions.csv';a.click();URL.revokeObjectURL(a.href)}
</script>
</body></html>