<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Santaslileper Adaptive App Launcher</title>
  <style>
    /* ----------------------------------------------------------------
       BASE STYLES (Applies to all screens)
    ---------------------------------------------------------------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    
    /* Status Bar and Phone Shell Styles (Unchanged) */
    .status-bar {
      height: 44px;
      background: rgba(0,0,0,0.3);
      padding: 0 20px;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      padding-bottom: 8px;
      color: #fff;
      font-size: 15px;
      font-weight: 600;
      z-index: 5;
    }
    .home-indicator {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 5px;
      background: rgba(255,255,255,0.3);
      border-radius: 3px;
    }
    
    /* ----------------------------------------------------------------
       LAUNCHER VIEWPORT (New App Display Area - For isolation)
    ---------------------------------------------------------------- */
    .app-display {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 20; /* Above the home screen */
      display: none; /* Hidden by default */
      flex-direction: column;
    }
    .app-iframe {
      flex-grow: 1;
      width: 100%;
      height: 100%;
      border: none;
      background-color: white; /* Default background */
    }
    .close-bar {
      height: 40px;
      background: rgba(40, 40, 40, 0.9);
      display: flex;
      align-items: center;
      padding: 0 10px;
      flex-shrink: 0;
    }
    .close-btn {
      color: #fff;
      background: none;
      border: none;
      font-size: 16px;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 5px;
      transition: background 0.2s;
    }
    .close-btn:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    /* ----------------------------------------------------------------
       HOME SCREEN STYLES 
    ---------------------------------------------------------------- */
    .home-screen {
      flex: 1;
      padding: 60px 20px 20px 20px;
    }
    .app-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    .app-icon-wrapper {
        text-align: center;
        text-decoration: none; /* Remove link underline */
    }
    .app-icon {
      width: 100%;
      aspect-ratio: 1;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 22%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 32px;
      transition: transform 0.1s;
      color: #fff; /* Ensure icon is white */
    }
    .app-icon:active {
      transform: scale(0.9);
    }
    /* Custom App Icon Gradients (Unchanged) */
    .app-icon.camera { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .app-icon.mic { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
    .app-icon.motion { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
    .app-icon.torch { background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%); }
    .app-icon.touch { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
    .app-icon.speaker { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
    
    .app-label {
      color: #fff;
      font-size: 12px;
      margin-top: 4px;
      text-align: center;
    }

    /* ----------------------------------------------------------------
       RESPONSIVENESS (Unchanged)
    ---------------------------------------------------------------- */
    @media (min-width: 768px) {
        /* Phone Frame Styles */
        .phone {
            width: 375px; height: 812px; background: #1d1d1f; border-radius: 50px; position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8); border: 12px solid #2c2c2e; overflow: hidden;
            display: block; 
        }
        .notch {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 180px;
            height: 30px; background: #000; border-radius: 0 0 20px 20px; z-index: 10; display: block;
        }
        .camera {
            position: absolute; width: 12px; height: 12px; background: #1a1a1a; border-radius: 50%;
            top: 9px; left: 50%; transform: translateX(-30px); border: 1px solid #333;
        }
        .speaker {
            position: absolute; width: 60px; height: 6px; background: #1a1a1a; border-radius: 3px;
            top: 12px; left: 50%; transform: translateX(-50%);
        }
        .screen {
            width: 100%; height: 100%; background: #000; border-radius: 38px; overflow: hidden;
            position: relative; display: flex; flex-direction: column;
        }
        .vol-up, .vol-down, .silent-switch {
            position: absolute; left: -2px; width: 4px; height: 50px; background: #2c2c2e;
            border-radius: 2px 0 0 2px; display: block; 
        }
        .vol-up { top: 150px; }
        .vol-down { top: 220px; }
        .silent-switch { top: 100px; height: 30px; }
    }
    @media (max-width: 767px) {
        /* Full Screen Mobile Styles */
        .phone { width: 100%; height: 100vh; border-radius: 0; border: none; box-shadow: none; padding: 0; }
        .screen { width: 100%; height: 100vh; border-radius: 0; }
        .notch, .vol-up, .vol-down, .silent-switch { display: none !important; }
        .status-bar { padding-top: 50px; padding-bottom: 12px; }
    }
  </style>
</head>
<body>
  
  <div class="phone">
    
    <div class="notch">
      <div class="camera"></div>
      <div class="speaker"></div>
    </div>
    <div class="vol-up" title="Volume Up"></div>
    <div class="vol-down" title="Volume Down"></div>
    <div class="silent-switch" title="Silent Switch"></div>
    <div class="screen">
      <div class="status-bar">
        <span id="time">9:41</span>
        <span>âš¡ï¸Ž ðŸ“¶ 100%</span>
      </div>
      
      <div class="home-screen" id="homeScreen">
        <div class="app-grid" id="appGrid">
          </div>
      </div>
      
      <div class="home-indicator"></div>

      <div class="app-display" id="appDisplay">
        <div class="close-bar">
            <span id="app-title-display" style="flex-grow: 1; font-weight: bold;"></span>
            <button class="close-btn" id="closeAppBtn">Close</button>
        </div>
        <iframe 
            class="app-iframe" 
            id="appIframe" 
            src=""
            allow="fullscreen" 
            sandbox="allow-scripts allow-forms allow-same-origin allow-popups"
            title="Application Viewport">
        </iframe>
      </div>

    </div>
  </div>

  <script>
    // ----------------------------------------------------------------
    // UPDATED APP DATA (Using names from the previous table)
    // ----------------------------------------------------------------
    const appData = [
        // CONFIRMED FUNCTIONAL APPS (Names replaced with stripped versions)
        { id: 1, title: "ðŸ“ Project Organizer", icon: "ðŸ“‚", path: "page1.html", class: "camera" },
        { id: 2, title: "âš¡ Reaction Time Game", icon: "âš¡", path: "page2.html", class: "mic" },
        { id: 3, title: "ðŸŽ® Grapple Ascent", icon: "ðŸŽ®", path: "page3.html", class: "motion" },
        { id: 4, title: "ðŸ§® Smart Calculator", icon: "ðŸ§®", path: "page4.html", class: "torch" },
        { id: 5, title: "ðŸ’» Mobile IDE", icon: "ðŸ’»", path: "page5.html", class: "touch" },
        { id: 6, title: "ðŸ¤– AI Learning Platform", icon: "ðŸ¤–", path: "page6.html", class: "speaker" },
        { id: 7, title: "ðŸ—ºï¸ Map Navigator", icon: "ðŸ—ºï¸", path: "page7.html", class: "camera" },
        { id: 8, title: "ðŸ“ Offline Maps", icon: "ðŸ“", path: "page8.html", class: "mic" },
        // App 9 not present in the original list
        { id: 10, title: "ðŸ“º LG webOS Remote", icon: "ðŸ“º", path: "page10.html", class: "torch" },
        { id: 11, title: "â±ï¸ Cycle Counter", icon: "â±ï¸", path: "page11.html", class: "touch" },
        { id: 13, title: "ðŸŽ¨ Theme Switcher", icon: "ðŸŽ¨", path: "page13.html", class: "speaker" },
        { id: 67, title: "â˜ ï¸ Mortis Cloud", icon: "â˜ ï¸", path: "page67.html", class: "camera" }
    ];

    const appGrid = document.getElementById('appGrid');
    const appDisplay = document.getElementById('appDisplay');
    const appIframe = document.getElementById('appIframe');
    const appTitleDisplay = document.getElementById('app-title-display');
    const closeAppBtn = document.getElementById('closeAppBtn');

    function createAppIcon(app) {
        const wrapper = document.createElement('div');
        wrapper.className = 'app-icon-wrapper block text-center cursor-pointer';
        wrapper.title = app.title;
        wrapper.dataset.path = app.path;
        wrapper.dataset.title = app.title;

        const iconDiv = document.createElement('div');
        iconDiv.className = `app-icon ${app.class || 'camera'}`;
        
        // --- THIS LINE FIXES THE MISSING ICONS AND USES THE UPDATED ICON ---
        iconDiv.textContent = app.icon.replace(/[^A-Za-z0-9\s]/g, '').trim().substring(0, 1) || app.icon; // Use the full emoji/icon from data
        // ----------------------------------------

        const labelDiv = document.createElement('div');
        labelDiv.className = 'app-label';
        labelDiv.textContent = app.title.replace(/[^A-Za-z0-9\s]/g, '').trim(); // Remove emoji from label for cleaner look

        wrapper.appendChild(iconDiv);
        wrapper.appendChild(labelDiv);
        
        // Add click listener to launch app
        wrapper.addEventListener('click', () => launchApp(app.path, app.title));

        return wrapper;
    }

    // Function to handle app launch (opens the iframe)
    function launchApp(path, title) {
        appTitleDisplay.textContent = title.replace(/[^A-Za-z0-9\s]/g, '').trim(); // Clean title in display bar
        appIframe.src = path;
        appDisplay.style.display = 'flex'; // Show the app viewport
    }

    // Function to close app
    closeAppBtn.addEventListener('click', () => {
        appDisplay.style.display = 'none'; // Hide the app viewport
        appIframe.src = 'about:blank'; // Stop the app from running (saves resources)
    });

    // Render all icons
    appData.forEach(app => {
        appGrid.appendChild(createAppIcon(app));
    });

    // Update time function for the status bar
    function updateTime() {
      const now = new Date();
      const hours = now.getHours() % 12 || 12; 
      document.getElementById('time').textContent = 
        `${hours}:${String(now.getMinutes()).padStart(2, '0')}`;
    }
    updateTime();
    setInterval(updateTime, 1000);
  </script>

</body>
</html>
