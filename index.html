<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"><title>Santaslileper OS</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display',sans-serif;background:#000;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;user-select:none;-webkit-user-select:none;cursor:default;overflow:hidden}.phone,.screen,.home-screen,.app-display,.app-window{touch-action:none}.phone{position:relative;width:100%;height:100%;max-width:375px;max-height:812px;background-color:#050505;background-image:radial-gradient(circle at center,#1a1a1a 0%,#000000 100%);overflow:hidden;display:flex;flex-direction:column;border:1px solid #333}@media (min-width:768px){.phone{height:812px;border-radius:50px;box-shadow:0 0 0 12px #2c2c2e,0 20px 60px rgba(0,0,0,0.8)}.notch{position:absolute;top:0;left:50%;transform:translateX(-50%);width:180px;height:30px;background:#000;border-radius:0 0 20px 20px;z-index:100}}.screen{position:relative;width:100%;height:100%;overflow:hidden;z-index:2}.status-bar{height:44px;padding:0 20px;display:flex;align-items:flex-end;justify-content:space-between;padding-bottom:8px;color:#fff;font-size:15px;font-weight:600;z-index:100;pointer-events:none;position:absolute;width:100%;top:0}.home-screen{padding:60px 20px 80px 20px;height:100%;overflow-y:auto;transition:transform .4s cubic-bezier(.32,0,.67,0),filter .4s linear;will-change:transform,filter}.home-screen.zoomed-out{transform:scale(.85);filter:brightness(.6) blur(5px);pointer-events:none}.app-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}.app-icon-wrapper{display:flex;flex-direction:column;align-items:center;transition:transform .2s ease;touch-action:none}.app-icon-wrapper.dragging{opacity:.5}.app-icon{width:60px;height:60px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff;box-shadow:0 4px 10px rgba(0,0,0,0.3);background:linear-gradient(135deg,#333,#555)}.app-icon.info{background:linear-gradient(135deg,#3498db,#2980b9)}.app-icon:active{filter:brightness(.8);transform:scale(.95)}.app-label{color:#fff;font-size:11px;margin-top:5px;text-shadow:0 1px 2px rgba(0,0,0,0.8)}.app-display{position:absolute;top:0;left:0;width:100%;height:100%;z-index:50;pointer-events:none}.app-window{position:absolute;top:0;left:0;width:100%;height:100%;background:#000;transform:translate3d(100%,0,0);transition:transform .4s cubic-bezier(.19,1,.22,1);pointer-events:auto;overflow:hidden}.app-window.active{transform:translate3d(0,0,0)}.app-iframe{width:100%;height:100%;border:none;display:block}.app-switcher{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent;z-index:40;display:none;flex-direction:row;align-items:center;overflow-x:auto;overflow-y:hidden;white-space:nowrap;scroll-snap-type:x mandatory;padding-left:20px;padding-right:20px;pointer-events:auto}.switcher-container{display:flex;height:100%;align-items:center;gap:20px;min-width:min-content}.switcher-card{position:relative;width:75vw;max-width:300px;height:70vh;background:#222;border-radius:20px;box-shadow:0 20px 40px rgba(0,0,0,0.5);scroll-snap-align:center;flex-shrink:0;transform-origin:center;transition:transform .2s;overflow:hidden}.card-header{position:absolute;top:0;left:0;width:100%;height:40px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);backdrop-filter:blur(5px);z-index:20;pointer-events:none}.card-touch-layer{position:absolute;top:40px;left:0;width:100%;height:calc(100% - 40px);z-index:15}.recents-close-x{position:absolute;top:50px;right:20px;width:30px;height:30px;background:rgba(60,60,60,0.8);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:16px;cursor:pointer;z-index:200;backdrop-filter:blur(5px);display:none}.empty-msg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:16px;pointer-events:none}.tutorial-content{width:100%;height:100%;background:#111;color:white;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.tutorial-step{margin-bottom:15px;font-size:18px;color:#ccc}.home-indicator{position:absolute;bottom:0;left:0;width:100%;height:40px;display:flex;justify-content:center;align-items:center;z-index:999;touch-action:none}.home-indicator::before{content:'';display:block;width:140px;height:5px;background:rgba(255,255,255,0.7);border-radius:3px}</style></head><body><div class="phone"><div class="notch"></div><div class="screen"><div class="status-bar"><span id="clock">12:00</span><span>5G 100%</span></div><div class="home-screen" id="homeScreen"><div class="app-grid" id="appGrid"></div></div><div class="app-display" id="appDisplay"><div id="appWindowContainer"></div></div><div class="app-switcher" id="appSwitcher"><div class="switcher-container" id="switcherContainer"></div></div><div id="recentsCloseBtn" class="recents-close-x">‚úï</div><div id="emptyRecents" class="empty-msg" style="display:none;">No Recent Apps</div><div class="home-indicator" id="homeIndicator"></div></div></div><script>const AG=document.getElementById('appGrid'),AC=document.getElementById('appWindowContainer'),AS=document.getElementById('appSwitcher'),SC=document.getElementById('switcherContainer'),HS=document.getElementById('homeScreen'),ER=document.getElementById('emptyRecents'),RB=document.getElementById('recentsCloseBtn');let RA=[],CA=null,IS=false;const TA={id:999,title:"Info",icon:"‚ÑπÔ∏è",path:"system:tutorial",class:"info"};const LK='appLauncherOrder';let DN=null;function GO(){const e=localStorage.getItem(LK);return e?JSON.parse(e):[]}function DS(e){DN=this;this.classList.add('dragging');e.dataTransfer.effectAllowed='move';if(navigator.vibrate)navigator.vibrate(50)}function DO(e){e.preventDefault();if(!DN)return;const t=e.target.closest('.app-icon-wrapper:not(.dragging)');if(t&&t!==DN){const o=t.getBoundingClientRect();const i=(e.clientX-o.left)/o.width>0.5;AG.insertBefore(DN,i?t.nextSibling:t)}}function DP(e){e.preventDefault()}function DE(){if(DN){DN.classList.remove('dragging');DN=null}const e=Array.from(AG.children).map(t=>t.dataset.path);localStorage.setItem(LK,JSON.stringify(e))}async function IN(){UC();setInterval(UC,1000);await LA();AG.addEventListener('dragover',DO);AG.addEventListener('drop',DP);const e=document.getElementById('homeIndicator');let t=0;e.addEventListener('touchstart',e=>{t=e.touches[0].clientY;e.preventDefault()});e.addEventListener('touchend',e=>{if(e.changedTouches[0].clientY-t<-40)HG()});RB.addEventListener('click',CS);AS.addEventListener('scroll',HSS)}async function LA(){let e=[TA,{id:1,title:"Camera",icon:"üì∏",path:"system:camera"},{id:3,title:"Motion",icon:"üì±",path:"system:motion"},{id:4,title:"Torch",icon:"üí°",path:"system:torch"},{id:5,title:"Touch",icon:"üëÜ",path:"system:touch"},{id:6,title:"Speaker",icon:"üîä",path:"system:speaker"}];try{const t=await fetch('apps.json');if(t.ok){e=e.concat(await t.json())}}catch(e){console.log("No apps.json")}const t=GO();if(t.length){e.sort((e,t)=>t.indexOf(e.path)-t.indexOf(t.path))}AG.innerHTML='';e.forEach(RI)}function RI(e){const t=document.createElement('div');t.className='app-icon-wrapper';t.dataset.path=e.path;t.setAttribute('draggable',true);t.innerHTML=`<div class="app-icon ${e.class||''}">${e.icon}</div><div class="app-label">${e.title}</div>`;t.addEventListener('click',e=>{if(e.currentTarget.classList.contains('dragging'))return;LP(e)});t.addEventListener('dragstart',DS);t.addEventListener('dragend',DE);AG.appendChild(t)}function HG(){if(CA){MA();OS()}else if(IS)CS();else if(RA.length>0)OS()}function LP(e){let t=RA.find(t=>t.path===e.path);if(t){RA=RA.filter(t=>t.path!==e.path);RA.push(t)}else{let t=CI(e);RA.push(t)}CS();let o=RA[RA.length-1];if(o.cardEl)RIW(o);requestAnimationFrame(()=>{o.windowEl.classList.add('active');RA.forEach(e=>e.windowEl.style.zIndex=10);o.windowEl.style.zIndex=20;HS.classList.add('zoomed-out');CA=o.path})}function CI(e){const t=document.createElement('div');t.className='app-window';if(e.path==="system:tutorial"){t.innerHTML=`<div class="tutorial-content"><div style="font-size:60px; margin-bottom:20px;">‚ÑπÔ∏è</div><h2>How to Use</h2><br><div class="tutorial-step">1. Swipe Up bar to go Home.</div><div class="tutorial-step">2. Hold & Swipe Up for Recents.</div><div class="tutorial-step">3. <b>Hold Card</b> & Swipe Up to Close it.</div><div class="tutorial-step">4. <b>Drag icons</b> on Home Screen to reorder.</div></div>`}else if(e.path==="system:camera"){const o=document.createElement('iframe');o.className='app-iframe';o.src='system_apps/camera_app.html';t.appendChild(o)}else if(e.path==="system:torch"){const o=document.createElement('iframe');o.className='app-iframe';o.src='system_apps/torch_app.html';t.appendChild(o)}else{const o=document.createElement('iframe');o.className='app-iframe';o.src=e.path;o.setAttribute('sandbox','allow-scripts allow-forms allow-popups allow-modals');t.appendChild(o)}AC.appendChild(t);return{...e,windowEl:t,cardEl:null}}function MA(){if(!CA)return;const e=RA.find(e=>e.path===CA);if(e)e.windowEl.classList.remove('active');HS.classList.remove('zoomed-out');CA=null}function CL(e){const t=RA.findIndex(t=>t.path===e);if(t===-1)return;const o=RA[t];o.windowEl.remove();if(o.cardEl)o.cardEl.remove();RA.splice(t,1);if(RA.length===0)ER.style.display='block';if(CA===e)CA=null}function OS(){IS=true;HS.classList.add('zoomed-out');AS.style.display='flex';RB.style.display='flex';ER.style.display=RA.length===0?'block':'none';RC();setTimeout(()=>{if(SC.lastElementChild){const e=SC.lastElementChild.offsetWidth;const t=AS.offsetWidth;const o=SC.lastElementChild.offsetLeft-(t/2)+(e/2);AS.scrollLeft=o}HSS()},10)}function CS(){IS=false;AS.style.display='none';RB.style.display='none';HS.classList.remove('zoomed-out');ER.style.display='none';RA.forEach(RIW)}function RC(){SC.innerHTML='';RA.forEach(e=>{const t=document.createElement('div');t.className='switcher-card';const o=document.createElement('div');o.className='card-header';o.innerHTML=`<span style="color:white; font-size:12px; font-weight:bold;">${e.title}</span>`;t.appendChild(o);const i=document.createElement('div');i.className='card-touch-layer';t.appendChild(i);const n=document.createElement('div');n.style.cssText="width:100%; height:100%; pointer-events:none;";while(e.windowEl.firstChild){n.appendChild(e.windowEl.firstChild)}t.appendChild(n);let c=null,s=false,l=0;i.addEventListener('touchstart',e=>{l=e.touches[0].clientY;s=false;c=setTimeout(()=>{s=true;t.style.transform='scale(0.95)';if(navigator.vibrate)navigator.vibrate(20)},300)});i.addEventListener('touchmove',e=>{const o=e.touches[0].clientY-l;if(!s&&Math.abs(o)>5){clearTimeout(c);s=true}if(s){e.preventDefault();if(o<0){t.style.transition='none';t.style.transform=`scale(0.95) translateY(${o}px)`}}});i.addEventListener('touchend',e=>{clearTimeout(c);if(s){const o=e.changedTouches[0].clientY-l;if(o<-100){t.style.transition='transform 0.3s ease-out';t.style.transform='translateY(-100vh)';setTimeout(()=>CL(e.path),300)}else{t.style.transition='transform 0.2s ease';t.style.transform='scale(1)'}s=false}else{LP(e)}});SC.appendChild(t);e.cardEl=t})}function RIW(e){if(!e.cardEl)return;const t=e.cardEl.children[2];if(t){while(t.firstChild){e.windowEl.appendChild(t.firstChild)}}e.cardEl.remove();e.cardEl=null}function HSS(){if(!IS)return;const e=AS.scrollLeft+(AS.clientWidth/2);RA.forEach(t=>{if(!t.cardEl)return;const o=t.cardEl;const i=o.offsetLeft+(o.offsetWidth/2);const n=Math.abs(i-e);if(n<50)o.style.opacity=1;else o.style.opacity=0.5})}function UC(){const e=new Date;document.getElementById('clock').textContent=e.toLocaleTimeString([],{hour:'numeric',minute:'2-digit'})}IN();</script></body></html>
