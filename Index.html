<!DOCTYPE html>
<html>
<head>
  <title>File Loader</title>
</head>
<body>
  <input type="file" id="fileInput" multiple>
  <button id="loadBtn">Load Saved Files</button>
  <ul id="fileList"></ul>

  <script>
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');
    const loadBtn = document.getElementById('loadBtn');

    // Load saved files from localStorage on page load
    window.addEventListener('load', () => {
      const savedFiles = JSON.parse(localStorage.getItem('files')) || [];
      savedFiles.forEach(file => addFileToList(file.name, file.content));
    });

    // Save selected files and display them
    fileInput.addEventListener('change', async (e) => {
      const files = Array.from(e.target.files);
      const savedFiles = [];

      for (const file of files) {
        const content = await file.text(); // read file content
        savedFiles.push({ name: file.name, content });
        addFileToList(file.name, content);
      }

      // Save file info in localStorage
      localStorage.setItem('files', JSON.stringify(savedFiles));
    });

    // Function to display file
    function addFileToList(name, content) {
      const li = document.createElement('li');
      li.textContent = name;
      li.addEventListener('click', () => {
        alert(content); // show file content
      });
      fileList.appendChild(li);
    }

    // Reload saved files manually
    loadBtn.addEventListener('click', () => {
      fileList.innerHTML = '';
      const savedFiles = JSON.parse(localStorage.getItem('files')) || [];
      savedFiles.forEach(file => addFileToList(file.name, file.content));
    });
  </script>
</body>
</html>